User Query: give me eon orders from 9am to 12pm on 1st june 2015
Llama.generate: 1 prefix-match hit, remaining 788 prompt tokens to eval
llama_perf_context_print:        load time =    1240.90 ms
llama_perf_context_print: prompt eval time =   80236.62 ms /   788 tokens (  101.82 ms per token,     9.82 tokens per second)
llama_perf_context_print:        eval time =   16153.41 ms /    99 runs   (  163.17 ms per token,     6.13 tokens per second)
llama_perf_context_print:       total time =   96451.71 ms /   887 tokens


User Query: give me the orders of eon from 9am -12pm on 1st june2015
Llama.generate: 761 prefix-match hit, remaining 28 prompt tokens to eval
llama_perf_context_print:        load time =    1240.90 ms
llama_perf_context_print: prompt eval time =    2154.85 ms /    28 tokens (   76.96 ms per token,    12.99 tokens per second)
llama_perf_context_print:        eval time =   12370.32 ms /    92 runs   (  134.46 ms per token,     7.44 tokens per second)
llama_perf_context_print:       total time =   14563.50 ms /   120 tokens





















select DISTINCT si.order_no ,si.item_no ,ii.action as 'Order Action',oo.order_type as 'Order Type',sca.account_no as 'BAN',sca.account_name as 'CustName',
itc.description ,psp.sub_profile_desc, si.circuit_id as 'FroId', scp.cpi_status_code as 'Circuit Status',     	
case when sva.cust_site_id != 'null' then  aa.address + '  '+ aa.city + ' '+ aa.state + ' '+ aa.country else '' end as 'Customer Prem Address A',  
case when sva.cust_site_id != 'null' then  ca.country_name else '' end as 'A customer prem country',  
case when svz.cust_site_id != 'null' then  az.address + '  '+ az.city + ' '+ az.state + ' '+ az.country else '' end as 'Customer Prem Address Z',  
case when svz.cust_site_id != 'null' then  cz.country_name else '' end as 'Z customer prem country',  ii.create_date as 'Created Date'
from orders oo join sonet_item si on oo.id=si.order_no  
join improv_item ii on ii.id=si.id  
join sonet_vendor_interface sva on sva.side='A' and sva.item_id=si.id  
left outer join site sa on sva.cust_site_id=sa.site_id  
left outer join address aa on sa.address_id=aa.address_id  
join sonet_vendor_interface svz on svz.side='Z'and svz.item_id=si.id  
left outer join site sz on svz.cust_site_id=sz.site_id  
left outer join address az on sz.address_id=az.address_id  
left outer join country ca on ca.country_alpha3_code=aa.country  
left outer join country cz on cz.country_alpha3_code=az.country , 
profile_sub_profile psp,improv_item_catalog itc,sonet_customer_account sca,sonet_cpi scp  
where si.sub_profile_code =psp.id and sca.account_no=oo.account_no and si.circuit_id=scp.circuit_id and itc.item_type=psp.item_type  and
ii.create_date between '2024/10/01' and '2024/10/24';



























































User Query: hello i want orders which are cancelled
Llama.generate: 676 prefix-match hit, remaining 12 prompt tokens to eval
llama_perf_context_print:        load time =   61542.72 ms
llama_perf_context_print: prompt eval time =     985.22 ms /    12 tokens (   82.10 ms per token,    12.18 tokens per second)
llama_perf_context_print:        eval time =    9462.99 ms /    66 runs   (  143.38 ms per token,     6.97 tokens per second)
llama_perf_context_print:       total time =   10473.24 ms /    78 tokens

LLM Response (raw):
{
  "source_system": "EON",
  "order_type": "ALL",
  "order_status": "cancelled",
  "order_action": "ALL",
  "start_date": "none",
  "end_date": "now"
}

llama_perf_context_print:       total time =   10473.24 ms /    78 tokens

LLM Response (raw):
{
  "source_system": "EON",
  "order_type": "ALL",
  "order_status": "cancelled",
  "order_action": "ALL",
  "start_date": "none",
  "end_date": "now"
}

LLM Response (raw):
{
  "source_system": "EON",
  "order_type": "ALL",
  "order_status": "cancelled",
  "order_action": "ALL",
  "start_date": "none",
  "end_date": "now"
}

  "source_system": "EON",
  "order_type": "ALL",
  "order_status": "cancelled",
  "order_action": "ALL",
  "start_date": "none",
  "end_date": "now"
}

  "order_type": "ALL",
  "order_status": "cancelled",
  "order_action": "ALL",
  "start_date": "none",
  "end_date": "now"
}

  "order_action": "ALL",
  "start_date": "none",
  "end_date": "now"
}

  "start_date": "none",
  "end_date": "now"
}

  "end_date": "now"
}

}


































PS C:\Users\AD54619\Text2Sql\approach1> python new.py
‚è≥ Loading Mistral 7B model via llama.cpp...
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 58, in <module>
    llm = MistralLLM(model_path=MODEL_PATH)
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 29, in __init__
    self.verbose = verbose  # ‚úÖ Fix: Add this line
    ^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\pydantic\main.py", line 991, in __setattr__
    setattr_handler(self, name, value)  # call here to not memo on possibly unknown fields
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\pydantic\main.py", line 99, in _model_field_setattr_handler  
    model.__pydantic_fields_set__.add(name)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 53, in __getattr__
    raise AttributeError(f"{type(self).__name__!r} object has no attribute {name!r}")
AttributeError: 'MistralLLM' object has no attribute '__pydantic_fields_set__'. Did you mean: '__pydantic_fields__'? 




































üß† Step: get me list of all customers
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 85, in <module>
    chat()
    ~~~~^^
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 81, in chat
    for step in agent_executor.stream({"messages": [HumanMessage(content=user_input)]}, stream_mode="values"):
                ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\pregel\__init__.py", line 2340, in stream
    for _ in runner.tick(
             ~~~~~~~~~~~^
        loop.tasks.values(),
        ^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        get_waiter=get_waiter,
        ^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\pregel\runner.py", line 158, in tick
    run_with_retry(
    ~~~~~~~~~~~~~~^
        t,
        ^^
    ...<11 lines>...
        },
        ^^
    )
    ^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\pregel\retry.py", line 40, in run_with_retry       
    return task.proc.invoke(task.input, config)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\utils\runnable.py", line 606, in invoke
    input = step.invoke(input, config, **kwargs)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\utils\runnable.py", line 363, in invoke
    ret = context.run(self.func, *args, **kwargs)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\prebuilt\chat_agent_executor.py", line 745, in call_model
    response = cast(AIMessage, model_runnable.invoke(state, config))
                               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\runnables\base.py", line 3025, in invoke      
    input = context.run(step.invoke, input, config)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\language_models\chat_models.py", line 307, in invoke
    self.generate_prompt(
    ~~~~~~~~~~~~~~~~~~~~^
        [self._convert_input(input)],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        **kwargs,
        ^^^^^^^^^
    ).generations[0][0],
    ^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\language_models\chat_models.py", line 843, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\language_models\chat_models.py", line 664, in generate
    self.verbose,
    ^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 51, in __getattr__
    raise AttributeError(f"{type(self).__name__!r} object has no attribute {name!r}")
AttributeError: 'MistralLLM' object has no attribute 'verbose'
During task with name 'agent' and id '05dbd901-99e5-f529-6d83-b3f81d8644da'







































üß† Step: list all customers
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 82, in <module>
    chat()
    ~~~~^^
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 78, in chat
    for step in agent_executor.stream({"messages": [HumanMessage(content=user_input)]}, stream_mode="values"):
                ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\pregel\__init__.py", line 2340, in stream
    for _ in runner.tick(
             ~~~~~~~~~~~^
        loop.tasks.values(),
        ^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        get_waiter=get_waiter,
        ^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\pregel\runner.py", line 158, in tick
    run_with_retry(
    ~~~~~~~~~~~~~~^
        t,
        ^^
    ...<11 lines>...
        },
        ^^
    )
    ^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\pregel\retry.py", line 40, in run_with_retry       
    return task.proc.invoke(task.input, config)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\utils\runnable.py", line 606, in invoke
    input = step.invoke(input, config, **kwargs)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\utils\runnable.py", line 363, in invoke
    ret = context.run(self.func, *args, **kwargs)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\prebuilt\chat_agent_executor.py", line 745, in call_model
    response = cast(AIMessage, model_runnable.invoke(state, config))
                               ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\runnables\base.py", line 3025, in invoke      
    input = context.run(step.invoke, input, config)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\language_models\chat_models.py", line 307, in invoke
    self.generate_prompt(
    ~~~~~~~~~~~~~~~~~~~~^
        [self._convert_input(input)],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        **kwargs,
        ^^^^^^^^^
    ).generations[0][0],
    ^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\language_models\chat_models.py", line 843, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\language_models\chat_models.py", line 663, in generate
    self.callbacks,
    ^^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\pydantic\main.py", line 984, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'MistralLLM' object has no attribute 'callbacks'
During task with name 'agent' and id 'd47a6d5a-987a-ea77-1805-3ebbd8e47d2d'
































be provided when using hosted LangSmith API
  warnings.warn(
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 62, in <module>
    agent_executor = create_react_agent(llm, tools, prompt=system_prompt)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\prebuilt\chat_agent_executor.py", line 160, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\prebuilt\chat_agent_executor.py", line 691, in create_react_agent
    model = cast(BaseChatModel, model).bind_tools(tool_classes)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1174, in
 bind_tools
    raise NotImplementedError
NotImplementedError
PS C:\Users\AD54619\Text2Sql\approach1> 























Guessed chat format: mistral-instruct
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 50, in <module>
    llm = MistralLLM(model_path=MODEL_PATH)
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 31, in __init__
    self.llama = Llama(
    ^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\pydantic\main.py", line 990, in __setattr__
    elif (setattr_handler := self._setattr_handler(name, value)) is not None:
                             ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\pydantic\main.py", line 1037, in _setattr_handler
    raise ValueError(f'"{cls.__name__}" object has no field "{name}"')
ValueError: "MistralLLM" object has no field "llama"






















C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langsmith\client.py:278: LangSmithMissingAPIKeyWarning: API key must be provided when using hosted LangSmith API
  warnings.warn(
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 54, in <module>
    agent_executor = create_react_agent(llm, tools, prompt=system_prompt)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\prebuilt\chat_agent_executor.py", line 160, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\prebuilt\chat_agent_executor.py", line 691, in create_react_agent
    model = cast(BaseChatModel, model).bind_tools(tool_classes)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MistralLLM' object has no attribute 'bind_tools'
PS C:\Users\AD54619\Text2Sql\approach1> python new.py
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 46, in <module>
    llm = MistralLLM(model_path=MODEL_PATH)
TypeError: Can't instantiate abstract class MistralLLM without an implementation for abstract methods '_generate', '_llm_type'
PS C:\Users\AD54619\Text2Sql\a























Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 54, in <module>
    agent_executor = create_react_agent(llm, tools, prompt=system_prompt)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\prebuilt\chat_agent_executor.py", line 160, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langgraph\prebuilt\chat_agent_executor.py", line 691, in create_react_agent
    model = cast(BaseChatModel, model).bind_tools(tool_classes)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MistralLLM' object has no attribute 'bind_tools'






Guessed chat format: mistral-instruct
‚úÖ Model loaded!
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\approach1\new.py", line 40, in <module>
    toolkit = SQLDatabaseToolkit(db=db, llm=llm)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\pydantic\main.py", line 243, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for SQLDatabaseToolkit
llm
  Input should be a valid dictionary or instance of BaseLanguageModel [type=model_type, input_value=<__main__.MistralLLM object at 0x0000013CEB299940>, input_type=MistralLLM]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type

















POST https://localhost:5000/api/query
Error: write EPROTO 54290880:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:..\..\..\..\src\third_party\boringssl\src\ssl\tls_record.cc:231:
Request Headers
Content-Type: application/json
User-Agent: PostmanRuntime/7.43.0
Accept: */*
Postman-Token: 90760198-d809-4294-951b-93166c45efd1
Host: localhost:5000
Accept-Encoding: gzip, deflate, br
Connection: keep-alive
Request Body






















User Question: get me employee details who belong to department engineering
Llama.generate: 201 prefix-match hit, remaining 23 prompt tokens to eval
llama_perf_context_print:        load time =   19596.31 ms
llama_perf_context_print: prompt eval time =    1581.68 ms /    23 tokens (   68.77 ms per token,    14.54 tokens per second)
llama_perf_context_print:        eval time =    8347.60 ms /    64 runs   (  130.43 ms per token,     7.67 tokens per second)
llama_perf_context_print:       total time =    9951.81 ms /    87 tokens

Final SQL Query:
```sql
SELECT employees.id, employees.name, employees.age, departments.department_name
FROM employees
JOIN departments ON employees.department = departments.department_name
```


‚ùå Error executing query: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '```sql\nSELECT employees.id, employees.name, employees.age, departments.departmen' at line 1")
[SQL: ```sql
SELECT employees.id, employees.name, employees.age, departments.department_name
FROM employees
JOIN departments ON employees.department = departments.department_name
WHERE departments.department_name = 'engineering'
```]
(Background on this error at: https://sqlalche.me/e/20/f405)

User Question:





















PS C:\Users\AD54619\Text2Sql> python gemma_sql.py
‚è≥ Loading Gemma-2B model (HuggingFace style)...
Loading checkpoint shards: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 2/2 [00:00<00:00,  3.36it/s]
‚úÖ Model loaded!
Device set to use cpu

üîπGemma-2B Chat w/ MySQL using custom prompt (no chain-of-thought).

Type 'exit' or 'quit' to stop.

User Question: fetch details of employee belonging to sales department
C:\Users\AD54619\Text2Sql\gemma_sql.py:126: LangChainDeprecationWarning: The method `BaseLLM.__call__` was deprecated in langchain-core 0.1.7 and will be removed in 1.0. Use :meth:`~invoke` instead.
  result = llm(prompt)

Final SQL Query:
Generate an SQL query strictly based on the schema provided.

Schema:
Table: departments
  - id (INTEGER)
  - department_name (TEXT)
  - location (TEXT)

Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
fetch details of employee belonging to sales department

Only output SQL code. Do not output any explanation or additional text.
SQL:

SELECT
  e.id,
  e.name,
  e.age,
  e.salary,
  d.department_name
FROM
  employees e
  LEFT JOIN departments d ON e.department = d.id
WHERE
  d.department_name ='sales'

Output:
SELECT e.id, e.name, e.age, e.salary, d.department_name FROM employees e LEFT JOIN departments d ON e.department = d.id WHERE d.department_name ='sales'


‚ùå Error executing query: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Generate an SQL query strictly based on the schema provided.\n\nSchema:\nTable: dep' at line 1")
[SQL: Generate an SQL query strictly based on the schema provided.

Schema:
Table: departments
  - id (INTEGER)
  - department_name (TEXT)
  - location (TEXT)

Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
fetch details of employee belonging to sales department

Only output SQL code. Do not output any explanation or additional text.
SQL:

SELECT
  e.id,
  e.name,
  e.age,
  e.salary,
  d.department_name
FROM
  employees e
  LEFT JOIN departments d ON e.department = d.id
WHERE
  d.department_name ='sales'

Output:
SELECT e.id, e.name, e.age, e.salary, d.department_name FROM employees e LEFT JOIN departments d ON e.department = d.id WHERE d.department_name ='sales']
(Background on this error at: https://sqlalche.me/e/20/f405)

User Question: get employees earning more than 20000

Final SQL Query:
SELECT *
FROM employees
WHERE salary > 20000;

DB Results:
(101, 'John Smith', 35, '1', 85000)
(102, 'Sarah Johnson', 42, '2', 78000)
(103, 'Michael Brown', 28, '1', 72000)
(104, 'Jessica Davis', 31, '3', 90000)
(105, 'Robert Wilson', 45, '4', 65000)
(106, 'Lisa Anderson', 38, '5', 92000)
(107, 'David Miller', 27, '1', 68000)
(108, 'Jennifer Garcia', 33, '2', 71000)
(109, 'Thomas Martinez', 41, '3', 86000)
(110, 'Emily Rodriguez', 29, '5', 81000)

User Question: get employee whose name begins with letter R 

Final SQL Query:
Generate an SQL query strictly based on the schema provided.

Schema:
Table: departments
  - id (INTEGER)
  - department_name (TEXT)
  - location (TEXT)

Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
get employee whose name begins with letter R

Only output SQL code. Do not output any explanation or additional text.
SQL:


‚ùå Error executing query: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Generate an SQL query strictly based on the schema provided.\n\nSchema:\nTable: dep' at line 1")
[SQL: Generate an SQL query strictly based on the schema provided.

Schema:
Table: departments
  - id (INTEGER)
  - department_name (TEXT)
  - location (TEXT)

Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
get employee whose name begins with letter R

Only output SQL code. Do not output any explanation or additional text.
SQL:]
(Background on this error at: https://sqlalche.me/e/20/f405)

User Question: get employee who belongs to finance department

Final SQL Query:
Generate an SQL query strictly based on the schema provided.

Schema:
Table: departments
  - id (INTEGER)
  - department_name (TEXT)
  - location (TEXT)

Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
get employee who belongs to finance department

Only output SQL code. Do not output any explanation or additional text.
SQL:


‚ùå Error executing query: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Generate an SQL query strictly based on the schema provided.\n\nSchema:\nTable: dep' at line 1")
[SQL: Generate an SQL query strictly based on the schema provided.

Schema:
Table: departments
  - id (INTEGER)
  - department_name (TEXT)
  - location (TEXT)

Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
get employee who belongs to finance department

Only output SQL code. Do not output any explanation or additional text.
SQL:]
(Background on this error at: https://sqlalche.me/e/20/f405)

User Question: get employee who earn more than 20000 incomme

Final SQL Query:
Generate an SQL query strictly based on the schema provided.

Schema:
Table: departments
  - id (INTEGER)
  - department_name (TEXT)
  - location (TEXT)

Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
get employee who earn more than 20000 incomme

Only output SQL code. Do not output any explanation or additional text.
SQL:

SELECT *
FROM employees
WHERE salary > 20000


‚ùå Error executing query: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Generate an SQL query strictly based on the schema provided.\n\nSchema:\nTable: dep' at line 1")
[SQL: Generate an SQL query strictly based on the schema provided.

Schema:
Table: departments
  - id (INTEGER)
  - department_name (TEXT)
  - location (TEXT)

Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
get employee who earn more than 20000 incomme

Only output SQL code. Do not output any explanation or additional text.
SQL:

SELECT *
FROM employees
WHERE salary > 20000]
(Background on this error at: https://sqlalche.me/e/20/f405)

User Question:































Type 'exit' or 'quit' to stop.

User Question: fetch all employees whoose salary is more than 50000
C:\Users\AD54619\Text2Sql\simple_tiny.py:94: LangChainDeprecationWarning: The method `BaseLLM.__call__` was deprecated in langchain-core 0.1.7 and will be removed in 1.0. Use :meth:`~invoke` instead.
  result = llm(prompt)

Generated SQL Query:
Generate an SQL query strictly based on the schema provided.

Schema:
Table: employees
  - id (INTEGER)
  - name (TEXT)
  - age (INTEGER)
  - department (TEXT)
  - salary (INTEGER)

Question:
fetch all employees whoose salary is more than 50000

Only output SQL code. Do not output any explanation or additional text.
SQL:
SELECT * FROM employees WHERE salary > 50000;

Explanation:
This query fetches all employees whose salary is more than 50000.

I hope this helps! Let me know if you have any further questions.


‚ùå Error executing query: Not an executable object: 'Generate an SQL query strictly based on the schema provided.\n\nSchema:\nTable: employees\n  - id (INTEGER)\n  - name (TEXT)\n  - age (INTEGER)\n  - department (TEXT)\n  - salary (INTEGER)\n\nQuestion:\nfetch all employees whoose salary is more than 50000\n\nOnly output SQL code. Do not output any explanation or additional text.\nSQL:\nSELECT * FROM employees WHERE salary > 50000;\n\nExplanation:\nThis query fetches all employees whose salary is more than 50000.\n\nI hope this helps! Let me know if you have any further questions.'

User Question:




























KeyboardInterrupt
PS C:\Users\AD54619\Text2Sql> python simple_tiny.py
‚è≥ Loading TinyLlama model (HuggingFace style)...
‚úÖ Model loaded!
Device set to use cpu

üîπTinyLlama Chat w/ MySQL using custom prompt (no chain-of-thought).

Type 'exit' or 'quit' to stop.

User Question: give me employees whoose salary is more than 50000
C:\Users\AD54619\Text2Sql\simple_tiny.py:84: LangChainDeprecationWarning: The method `BaseLLM.__call__` was deprecated in langchain-core 0.1.7 and will be removed in 1.0. Use :meth:`~invoke` instead.
  result = llm(prompt)

Generated SQL Query:
Generate an SQL query strictly based on the schema provided.

Schema:
Table: employees
  - [Error retrieving columns]

Question:
give me employees whoose salary is more than 50000

Only output SQL code. Do not output any explanation or additional text.
SQL:
SELECT * FROM employees
WHERE salary > 50000;


‚ùå Error executing query: Not an executable object: 'Generate an SQL query strictly based on the schema provided.\n\nSchema:\nTable: employees\n  - [Error retrieving columns]\n\nQuestion:\ngive me employees whoose salary is more than 50000\n\nOnly output SQL code. Do not output any explanation or additional text.\nSQL:\nSELECT * FROM employees\nWHERE salary > 50000;'

User Question:
















PS C:\Users\AD54619\Text2Sql> python better_tiny.py
‚è≥ Loading TinyLlama model (HuggingFace style)...
‚úÖ Model loaded!
Device set to use cpu

üîπTinyLlama Chat w/ MySQL using LangChain.

Type 'exit' or 'quit' to stop.

[DEBUG] Table Names: ['departments', 'employees']
User Question: which employees belong to finance department
[DEBUG] Using these tables: ['employees']
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 119, in <module>
    main()
    ~~~~^^
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 103, in main
    chain = create_sql_query_chain(
        llm=llm,
        db=filtered_db,
        prompt=custom_prompt
    )
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain\chains\sql_database\query.py", line 122, in create_sql_query_chain  
    raise ValueError(
    ...<3 lines>...
    )
ValueError: Prompt must have input variables: 'input', 'top_k', 'table_info'. Received prompt with input variables: ['question']. Full prompt:

input_variables=['question'] input_types={} partial_variables={} template='Generate a valid MySQL query for the following question:\n{question}\n\nReturn ONLY the SQL query. No extra explanation or examples.'


























S C:\Users\AD54619\Text2Sql> python better_tiny.py
‚è≥ Loading TinyLlama model (HuggingFace style)...
‚úÖ Model loaded!
Device set to use cpu

üîπ TinyLlama MySQL Demo (Raw DB results only). Type 'exit' or 'quit' to stop.

Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 115, in <module>
    main()
    ~~~~^^
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 84, in main
    columns = db.get_table_info(tbl)
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain_community\utilities\sql_database.py", line 322, in get_table_info   
    raise ValueError(f"table_names {missing_tables} not found in database")
ValueError: table_names {'a', 't', 'p', 'e', 'n', 'm', 'd', 's', 'r'} not found in database























User Question: employee name whose salary is more than 50000
[DEBUG] Using tables: ['departments', 'employees']
[chain/start] [chain:RunnableSequence] Entering Chain run with input:
{
  "input": "employee name whose salary is more than 50000"
}
[chain/start] [chain:RunnableSequence > chain:RunnableAssign<input,table_info>] Entering Chain run with input:
{
  "input": "employee name whose salary is more than 50000"
}
[chain/start] [chain:RunnableSequence > chain:RunnableAssign<input,table_info> > chain:RunnableParallel<input,table_info>] Entering Chain run with input:
{
  "input": "employee name whose salary is more than 50000"
}
[chain/start] [chain:RunnableSequence > chain:RunnableAssign<input,table_info> > chain:RunnableParallel<input,table_info> > chain:RunnableLambda] Entering Chain run with input:
{
  "input": "employee name whose salary is more than 50000"
}
[chain/start] [chain:RunnableSequence > chain:RunnableAssign<input,table_info> > chain:RunnableParallel<input,table_info> > chain:RunnableLambda] Entering Chain run with input:
{
  "input": "employee name whose salary is more than 50000"
}
[chain/end] [chain:RunnableSequence > chain:RunnableAssign<input,table_info> > chain:RunnableParallel<input,table_info> > chain:RunnableLambda] [8ms] Exiting Chain run with output:
{
  "output": "\nCREATE TABLE departments (\n\tid INTEGER NOT NULL, \n\tdepartment_name TEXT NOT NULL, \n\tlocation TEXT, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci ENGINE=InnoDB DEFAULT CHARSET=utf8mb4\n\n/*\n3 rows from departments table:\nid\tdepartment_name\tlocation\n1\tEngineering\tNew York\n2\tMarketing\tChicago\n3\tFinance\tBoston\n*/\n\n\nCREATE TABLE employees (\n\tid INTEGER NOT NULL, \n\tname TEXT NOT NULL, \n\tage INTEGER, \n\tdepartment TEXT, \n\tsalary INTEGER, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci ENGINE=InnoDB DEFAULT CHARSET=utf8mb4\n\n/*\n3 rows from employees table:\nid\tname\tage\tdepartment\tsalary\n101\tJohn Smith\t35\t1\t85000\n102\tSarah Johnson\t42\t2\t78000\n103\tMichael Brown\t28\t1\t72000\n*/"
}
[chain/error] [chain:RunnableSequence > chain:RunnableAssign<input,table_info> > chain:RunnableParallel<input,table_info> > chain:RunnableLambda] [57ms] Chain run errored with error:
"KeyError('question')Traceback (most recent call last):\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 1925, in _call_with_config\n    context.run(\n    ~~~~~~~~~~~^\n        call_func_with_variable_args,  # type: ignore[arg-type]\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    ),\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\config.py\", line 430, in call_func_with_variable_args\n    return func(input, **kwargs)  # type: ignore[call-arg]\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 4573, in _invoke\n    output = call_func_with_variable_args(\n        self.func, input, config, run_manager, **kwargs\n    )\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\config.py\", line 430, in call_func_with_variable_args\n    return func(input, **kwargs)  # type: ignore[call-arg]\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain\\chains\\sql_database\\query.py\", line 131, in <lambda>\n    \"input\": lambda x: x[\"question\"] + \"\\nSQLQuery: \",\n                       ~^^^^^^^^^^^^\n\n\nKeyError: 'question'"
[chain/error] [chain:RunnableSequence > chain:RunnableAssign<input,table_info> > chain:RunnableParallel<input,table_info>] [94ms] Chain run errored with error:
"KeyError('question')Traceback (most recent call last):\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 3728, in invoke\n    output = {key: future.result() for key, future in zip(steps, futures)}\n             
      ~~~~~~~~~~~~~^^\n\n\n  File \"C:\\Users\\AD54619\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 456, in result\n    return self.__get_result()\n           ~~~~~~~~~~~~~~~~~^^\n\n\n  File \"C:\\Users\\AD54619\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 401, in __get_result\n    raise self._exception\n\n\n  File \"C:\\Users\\AD54619\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 3712, in _invoke_step\n    return context.run(\n           ~~~~~~~~~~~^\n        step.invoke,\n        ^^^^^^^^^^^^\n        input,\n        ^^^^^^\n        child_config,\n        ^^^^^^^^^^^^^\n    )\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 4719, in invoke\n    return self._call_with_config(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        self._invoke,\n        ^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    )\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 1925, in _call_with_config\n    context.run(\n    ~~~~~~~~~~~^\n        call_func_with_variable_args,  # type: ignore[arg-type]\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    ),\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\config.py\", line 430, in call_func_with_variable_args\n    return func(input, **kwargs)  # type: ignore[call-arg]\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 4573, in _invoke\n    output = call_func_with_variable_args(\n        self.func, input, config, run_manager, **kwargs\n    )\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\config.py\", line 430, in call_func_with_variable_args\n    return func(input, **kwargs)  # type: ignore[call-arg]\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain\\chains\\sql_database\\query.py\", line 131, in <lambda>\n    \"input\": lambda x: x[\"question\"] + \"\\nSQLQuery: \",\n                       ~^^^^^^^^^^^^\n\n\nKeyError: 'question'"
[chain/error] [chain:RunnableSequence > chain:RunnableAssign<input,table_info>] [116ms] Chain run errored with error:
"KeyError('question')Traceback (most recent call last):\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 1925, in _call_with_config\n    context.run(\n    ~~~~~~~~~~~^\n        call_func_with_variable_args,  # type: ignore[arg-type]\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    ),\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\config.py\", line 430, in call_func_with_variable_args\n    return func(input, **kwargs)  # type: ignore[call-arg]\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\passthrough.py\", line 483, in _invoke\n    **self.mapper.invoke(\n      ~~~~~~~~~~~~~~~~~~^\n        input,\n        ^^^^^^\n        patch_config(config, callbacks=run_manager.get_child()),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        **kwargs,\n        ^^^^^^^^^\n    ),\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 3728, in invoke\n    output = {key: future.result() for key, future in zip(steps, futures)}\n                   ~~~~~~~~~~~~~^^\n\n\n  File \"C:\\Users\\AD54619\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 456, in result\n    return self.__get_result()\n           ~~~~~~~~~~~~~~~~~^^\n\n\n  File \"C:\\Users\\AD54619\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 401, in __get_result\n    raise self._exception\n\n\n  File \"C:\\Users\\AD54619\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 3712, in _invoke_step\n    return context.run(\n           ~~~~~~~~~~~^\n        step.invoke,\n        ^^^^^^^^^^^^\n        input,\n        ^^^^^^\n        child_config,\n        ^^^^^^^^^^^^^\n    )\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 4719, in invoke\n    return self._call_with_config(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        self._invoke,\n        ^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    )\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\langchain_core\\runnables\\base.py\", line 1925, in _call_with_config\n    context.run(\n    ~~~~~~~~~~~^\n        call_func_with_variable_args,  # type: ignore[arg-type]\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    ),\n    ^\n\n\n  File \"C:\\Users\\AD54619\\Text2Sql\\virtualen\\Lib\\site-packages\\lang
































Type 'exit' or 'quit' to stop.

User Question: give me employee name whose salary is more than 50000
[DEBUG] Using tables: ['departments', 'employees']
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 132, in <module>
    main()
    ~~~~^^
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 108, in main
    chain = create_sql_query_chain(
        llm=llm,
    ...<2 lines>...
        top_k=3
    )
TypeError: create_sql_query_chain() got an unexpected keyword argument 'top_k'






























----
PS C:\Users\AD54619\Text2Sql> python better_tiny.py
‚è≥ Loading TinyLlama model (HuggingFace style)...
‚úÖ Model loaded!
Device set to use cpu

üîπTinyLlama Chat w/ MySQL (Only raw DB data printed)

Type 'exit' or 'quit' to stop.

User Question: which employee had more than 5000 salary 
[DEBUG] Using tables: ['departments', 'employees']
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 132, in <module>
    main()
    ~~~~^^
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 104, in main
    chain = create_sql_query_chain(
        llm=llm,
    ...<2 lines>...
        # no 'output_parser' argument here, since your version doesn't support it
    )
  File "C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\langchain\chains\sql_database\query.py", line 122, in create_sql_query_chain  
    raise ValueError(
    ...<3 lines>...
    )
ValueError: Prompt must have input variables: 'input', 'top_k', 'table_info'. Received prompt with input variables: ['question']. Full prompt:

input_variables=['question'] input_types={} partial_variables={} template='Generate a valid MySQL query for the user question:\n{question}\n\nOnly output the SQL query. Nothing else.'

















üîπTinyLlama Chat w/ MySQL (Only raw DB data printed)

Type 'exit' or 'quit' to stop.

C:\Users\AD54619\Text2Sql\better_tiny.py:79: LangChainDeprecationWarning: The class `QuerySQLDataBaseTool` was deprecated in LangChain 0.3.12 and will be removed in 1.0. An updated version of the class exists in the :class:`~langchain-community package and should be used instead. To use it run `pip install -U :class:`~langchain-community` and import as `from :class:`~langchain_community.tools import QuerySQLDatabaseTool``.
  query_tool = QuerySQLDataBaseTool(db=wide_db)
User Question: which employee has more than 50000 salary
[DEBUG] Using tables: ['departments', 'employees']
Traceback (most recent call last):
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 129, in <module>
    main()
    ~~~~^^
  File "C:\Users\AD54619\Text2Sql\better_tiny.py", line 99, in main
    chain = create_sql_query_chain(
        llm=llm,
    ...<2 lines>...
        output_parser=StrOutputParser(),  # ensures raw string
    )
TypeError: create_sql_query_chain() got an unexpected keyword argument 'output_parser'





    
    sql_query = tokenizer.batch_decode(outputs, skip_special_tokens=True)[0]
    return sql_query

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description='Generate SQL from natural language')
    parser.add_argument('--question', type=str, help='The natural language question')
    parser.add_argument('--schema_file', type=str, help='File containing the database schema')
    
    args = parser.parse_args()
    
    if args.question and args.schema_file:
        with open(args.schema_file, 'r') as f:
            schema = f.read()
        
        sql = generate_sql(args.question, schema)
        print("\nGenerated SQL Query:")
        print(sql)
    else:
        # Use the example from your code if no arguments provided
        question = "What is the average, minimum, and maximum age for all French musicians?"
        schema = """
           "stadium" "Stadium_ID" int , "Location" text , "Name" text , "Capacity" int , "Highest" int , "Lowest" int , "Average" int , foreign_key:  primary key: "Stadium_ID" [SEP] "singer" "Singer_ID" int , "Name" text , "Country" text , "Song_Name" text , "Song_release_year" text , "Age" int , "Is_male" bool , foreign_key:  primary key: "Singer_ID" [SEP] "concert" "concert_ID" int , "concert_Name" text , "Theme" text , "Year" text , foreign_key: "Stadium_ID" text from "stadium" "Stadium_ID" , primary key: "concert_ID" [SEP] "singer_in_concert"  foreign_key: "concert_ID" int from "concert" "concert_ID" , "Singer_ID" text from "singer" "Singer_ID" , primary key: "concert_ID" "Singer_ID"
        """
        
        sql = generate_sql(question, schema)
        print("\nGenerated SQL Query:")
        print(sql)


PS C:\Users\AD54619\Text2Sql> python load.py --question "What is the average, minimum, and maximum age for all French musicians?" --schema_file schema.txt
Processing query...
C:\Users\AD54619\Text2Sql\virtualen\Lib\site-packages\transformers\generation\configuration_utils.py:676: UserWarning: `num_beams` is set to 1. However, `early_stopping` is set to `True` -- this flag is only used in beam-based generation modes. You should set `num_beams>1` or unset `early_stopping`.
  warnings.warn(

Generated SQL Query:
SELECT avg(age), min(age), max(age) FROM singer WHERE country = 'France'
